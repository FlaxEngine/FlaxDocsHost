<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Cameras | Flax Documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Cameras | Flax Documentation ">
    <meta name="generator" content="docfx 2.58.9.0">
    
    <link rel="shortcut icon" href="../../../favicon.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="../../toc.html">
    
    <meta property="docfx:rel" content="../../../">
    <meta property="docfx:newtab" content="true">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@flaxengine">
    <meta name="og:title" content="Cameras | Flax Documentation ">
    <meta property="og:image" content="https://docs.flaxengine.com/media/social-image.jpg">
  
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-88357703-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-88357703-2');
    </script>
  </head>	  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="https://www.flaxengine.com">
        		<div style="text-align:center; line-height:45px">
        	    <img id="logo" height="40" width="40" src="../../../logo.png" alt="">
        		</div>
        	  </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="cameras">Cameras</h1>

<p><img src="media/camera.png" alt="Camera"></p>
<p><strong>Camera</strong> captures the scene and displays it to the user. It defines a view in screen space. A camera&#39;s position and rotation define the <em>viewport</em> and <em>view direction</em>. Those properties are used to render scene objects and present them to the user.</p>
<h2 id="changing-the-active-camera">Changing the active camera</h2>
<p>Flax Engine allows to create an unlimited amount of cameras in scenes while the <a href="http://docs.flaxengine.com/api/FlaxEngine.Camera.html#FlaxEngine_Camera_MainCamera">main one</a> is used for the final frame rendering.</p>
<p>To change the camera used for rendering, you can use the following code, where <code>MyCamera</code> is the camera you want to change to:</p>
<pre><code class="lang-cs">Camera.OverrideMainCamera = MyCamera;
</code></pre><h2 id="creating-a-camera-in-the-editor">Creating a camera in the editor</h2>
<p>In the <em>Scene</em> tree window, right-click and select <strong>New -&gt; Camera</strong>.
The Editor will create new Camera actor with default properties.</p>
<p><img src="media/new-cam.jpg" alt="New Camera"></p>
<h2 id="creating-a-camera-in-script">Creating a camera in script</h2>
<p>The following sample code can be used to instantiate a new camera object in a scene.</p>
<pre><code class="lang-cs">public class MyScript : Script
{
    public override void OnStart()
    {
        var camera = new Camera();
        Level.SpawnActor(camera);
        camera.Position = new Vector3(0, 100, 0);
    }
}
</code></pre><p>To learn more about the C# scripting API see the <a href="http://docs.flaxengine.com/api/FlaxEngine.Camera.html">Camera</a> class.</p>
<h2 id="camera-properties">Camera properties</h2>
<p><img src="media/camera-properties.png" alt="Camera Properties"></p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Use Perspective</strong></td>
<td>If checked, camera will use perspective projection, otherwise orthographic.</td>
</tr>
<tr>
<td><strong>Field Of View</strong></td>
<td>The vertical field of view (in degrees) used for perspective projection.</td>
</tr>
<tr>
<td><strong>Near Plane</strong></td>
<td>The nearest point the camera can see (near clipping plane).</td>
</tr>
<tr>
<td><strong>Far Plane</strong></td>
<td>The furthest point the camera can see (far clipping plane).</td>
</tr>
<tr>
<td><strong>Custom Aspect Ratio</strong></td>
<td>Custom aspect ratio you specify. Otherwise, automatically adjust the aspect ratio to the render target ratio. Use value 0 to disable it.</td>
</tr>
<tr>
<td><strong>Orthographic Size</strong></td>
<td><em>Only visible when **Use Perspective</em>* is false.* The orthographic projection view height (width is based on the aspect ratio). Use <code>0</code> for size to be based on the viewport size.</td>
</tr>
<tr>
<td><strong>Orthographic Scale</strong></td>
<td><em>Only visible when **Use Perspective</em>* is false.* Additional scale used for the orthographic projection size. This has the effect of zooming in and out.</td>
</tr>
<tr>
<td><strong>Render Layers Mask</strong></td>
<td>The layers mask used for rendering using this camera. Can be used to include or exclude specific actor layers from the drawing.</td>
</tr>
<tr>
<td><strong>Render Flags</strong></td>
<td>Frame rendering flags used to switch between graphics features for this camera. See <a href="https://docs.flaxengine.com/api/FlaxEngine.ViewFlags.html">ViewFlags</a> api reference.</td>
</tr>
<tr>
<td><strong>Render Mode</strong></td>
<td>Describes frame rendering modes for this camera. See <a href="https://docs.flaxengine.com/api/FlaxEngine.ViewMode.html">ViewMode</a>.</td>
</tr>
</tbody>
</table>
<h2 id="masking-object-layers">Masking object layers</h2>
<p><img src="media/render-layers-masking.gif" alt="Camera Render Layers Masking"></p>
<p>Every actor on a scene has a <strong>Layer</strong> property assigned. Cameras can use per-layer masking for rendering to include or exclude certain objects from being drawn.</p>
<h2 id="perspective-and-orthographic-cameras">Perspective and orthographic cameras</h2>
<p>Camera objects can work in two modes: perspective and orthographic. Each mode uses a different projection mapping method to affect how the rendered scene looks.</p>
<ul>
<li><p>The <strong>Perspective</strong> camera provides a &quot;real-world&quot; perspective of the objects in your scene. In this view, objects close to the camera appear larger, and lines of identical lengths appear different due to foreshortening, as in reality. Perspective cameras are most used for games that require a realistic perspective, such as third-person and first-person shooters.</p>
</li>
<li><p>The <strong>Orthographic</strong> camera always renders objects in the same size, no matter their distance from the camera. Parallel lines never touch, and there&#39;s no vanishing point. Orthographic cameras are most used for games with isometric perspectives, such as some strategy or role-playing games.</p>
</li>
</ul>
<h2 id="field-of-view-perspective-mode-only">Field of view (perspective mode only)</h2>
<p>If a camera has the <strong>Use Perspective</strong> value checked, then it will use perspective projection. The <strong>field of view</strong> changes the camera&#39;s frustum, and has the effect of zooming in or out of the scene. When using a high value (90 or above), the field of view results in stretched &quot;fish-eye lens&#39; views.</p>
<table>
<thead>
<tr>
<th>Field of view: 50</th>
<th>Field of view: 80</th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="media/fov_1.png" alt="Field of View 50"></td>
<td><img src="media/fov_2.png" alt="Field of View 80"></td>
</tr>
</tbody>
</table>
<h2 id="orthographic-scale-orthographic-mode-only">Orthographic scale (orthographic mode only)</h2>
<p>If a camera has the <strong>Use Perspective</strong> value unchecked, then it will use orthographic projection. The <strong>orthographic scale</strong> changes the camera frustum size, and has the effect of zooming in or out of the scene.</p>
<p>To have more precise over projection use <strong>Orthographic Size</strong> property that defines the exact size (if not set to <code>0</code> which uses viewport size).</p>
<table>
<thead>
<tr>
<th>Orthographic scale: 0.3</th>
<th>Orthographic scale: 1</th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="media/ortho_scale_1.png" alt="Field of View 50"></td>
<td><img src="media/ortho_scale_2.png" alt="Field of View 80"></td>
</tr>
</tbody>
</table>
<h2 id="near-and-far-planes">Near and far planes</h2>
<p>The near and far clipping planes are used to define the camera frustum begin and end points.
The near plane is the closest point the camera can see. All geometry that is in front of it won&#39;t be rendered.
The far plane is the furthest point the camera can see. It&#39;s also known as a draw distance or a view distance. All geometry that is beyond it won&#39;t be rendered.</p>
<p>Adjusting the near and far planes affect rendering precision and scene depth quality. Using too small of a near plane value (lower than 1) or a very high far plane (higher than 100000) may result in depth precision issues as well as <a href="https://en.wikipedia.org/wiki/Z-fighting">Z-fighting</a>.</p>
<table>
<thead>
<tr>
<th>Near plane: 300</th>
<th>Far plane: 800</th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="media/nearFar_1.png" alt="Field of View 50"></td>
<td><img src="media/nearFar_2.png" alt="Field of View 80"></td>
</tr>
</tbody>
</table>
<h2 id="render-a-camera-to-a-texture">Render a camera to a texture</h2>
<p>Flax Engine offers a very wide range of customization that can be made to extend the rendering pipeline. One of them is rendering a scene using the custom camera right to the render target, then presenting it on an object surface. To create such an effect check out the tutorial: <a href="render-camera-to-texture.html">How to render a camera to a texture</a>.</p>
<h2 id="alpha-output">Alpha output</h2>
<p>The renderer supports including an alpha channel in the output image. It might be required for games that want to composite draw output over other images (eg. a minimap or a game character preview over the game UI). It can be enabled per-SceneRenderTask by setting the <code>UseAlpha</code> property on the render buffers used by that task:</p>
<pre><code class="lang-cs">MainRenderTask.Instance.Buffers.UseAlpha = true;
</code></pre><p>Then, the renderer will use <code>R16G16B16A16</code> format for the image textures and passthrough the alpha channel. This affects game performance, as the default <code>R11G11B10</code> format is more optimized for lower memory bandwidth. When using alpha in output try to disable unused PostFx features to reduce memory pressure and improve performance.</p>
<h2 id="override-view">Override view</h2>
<p>Flax uses an extensible RenderTask system for high-level rendering architecture. By default a game uses the <code>MainRenderTask.Instance</code> to drive the scene rendering into the main game viewport. You can use it to plug into the rendering pipeline for custom effects, rendering or view override.</p>
<div class="tabGroup" id="tabgroup_xJdqemeYyZ">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_xJdqemeYyZ_code-csharp" role="tab" aria-controls="tabpanel_xJdqemeYyZ_code-csharp" data-tab="code-csharp" tabindex="0" aria-selected="true">C#</a>
</li>
<li role="presentation">
<a href="#tabpanel_xJdqemeYyZ_code-cpp" role="tab" aria-controls="tabpanel_xJdqemeYyZ_code-cpp" data-tab="code-cpp" tabindex="-1">C++</a>
</li>
</ul>
<section id="tabpanel_xJdqemeYyZ_code-csharp" role="tabpanel" data-tab="code-csharp">
<pre><code class="lang-cs">class MyScript : Script
{
    public override void OnEnable()
    {
        MainRenderTask.Instance.PreRender += OnPreRender;
    }

    public override void OnDisable()
    {
        MainRenderTask.Instance.PreRender -= OnPreRender;
    }

    private void OnPreRender(GPUContext context, ref RenderContext renderContext)
    {
        // Here you can modify the render View
        float fov = 120.0f;
        renderContext.View.Near = 100.0f;
        Viewport viewport = renderContext.Buffers.Viewport;
        Matrix view = renderContext.View.View;
        Matrix proj;
        Matrix.PerspectiveFov(fov * Mathf.DegreesToRadians, viewport.AspectRatio, renderContext.View.Near, renderContext.View.Far, out proj);
        renderContext.View.SetUp(ref view, ref proj);
    }
}
</code></pre></section>
<section id="tabpanel_xJdqemeYyZ_code-cpp" role="tabpanel" data-tab="code-cpp" aria-hidden="true" hidden="hidden">
<pre><code class="lang-cpp">#pragma once

#include &quot;Engine/Scripting/Script.h&quot;
#include &quot;Engine/Core/Log.h&quot;
#include &quot;Engine/Graphics/RenderBuffers.h&quot;
#include &quot;Engine/Graphics/RenderTask.h&quot;

API_CLASS() class GAME_API MyScript : public Script
{
    API_AUTO_SERIALIZATION();
    DECLARE_SCRIPTING_TYPE(MyScript);

    void OnPreRender(GPUContext* context, RenderContext&amp; renderContext)
    {
        // Here you can modify the render View
        float fov = 120.0f;
        renderContext.View.Near = 100.0f;
        const Viewport viewport(renderContext.Buffers-&gt;GetViewport());
        Matrix view = renderContext.View.View;
        Matrix proj;
        Matrix::PerspectiveFov(fov * DegreesToRadians, viewport.GetAspectRatio(), renderContext.View.Near, renderContext.View.Far, proj);
        renderContext.View.SetUp(view, proj);
    }

    // [Script]
    void OnEnable() override
    {
        MainRenderTask::Instance-&gt;PreRender.Bind&lt;MyScript, &amp;MyScript::OnPreRender&gt;(this);
    }

    void OnDisable() override
    {
        MainRenderTask::Instance-&gt;PreRender.Unbind&lt;MyScript, &amp;MyScript::OnPreRender&gt;(this);
    }
};

inline MyScript::MyScript(const SpawnParams&amp; params)
    : Script(params)
{
}
</code></pre></section>
</div>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/FlaxEngine/FlaxDocs/blob/ee97ad993bcca5f2b72f19accf8f8abf71adb84d/manual/graphics/cameras/index.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            Copyright © 2012-2024 Wojciech Figat
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
